#!/usr/bin/python

import higu
import sys

if( __name__ == '__main__' ):

    argv = sys.argv[1:]

    if( len( argv ) < 1 ):
        print 'Usage: higuadd [-d database] [-t taglist] [-n|-N] file...'

    if( argv[0] == '-d' ):
        h = higu.Database( argv[1] )
        argv = argv[2:]
    else:
        h = higu.init_default()

    add_name = True
    taglist = []

    while( len( argv ) > 0 ):
        if( argv[0] == '-t' ):
            taglist = argv[1].split( ',' )
            argv = argv[2:]
            continue
        elif( argv[0] == '-n' ):
            add_name = False
        elif( argv[0] == '-N' ):
            add_name = True
        else:
            x = h.register_file( argv[0], add_name )

            for t in taglist:
                x.tag( t )

        argv = argv[1:]

    h.commit()

# vim:sts=4:et:sw=4
